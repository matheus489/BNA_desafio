# üìö DOCUMENTA√á√ÉO COMPLETA - BNA.DEV

## üéØ **VIS√ÉO GERAL DO PROJETO**

O **BNA.dev** √© uma plataforma de intelig√™ncia artificial para automa√ß√£o de vendas B2B, desenvolvida para otimizar o processo de pesquisa e an√°lise de empresas antes de reuni√µes comerciais.

### **üèóÔ∏è Arquitetura do Sistema**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Frontend      ‚îÇ    ‚îÇ   Backend       ‚îÇ    ‚îÇ   Database      ‚îÇ
‚îÇ   (React + Vite)‚îÇ‚óÑ‚îÄ‚îÄ‚ñ∫‚îÇ   (FastAPI)     ‚îÇ‚óÑ‚îÄ‚îÄ‚ñ∫‚îÇ   (PostgreSQL)  ‚îÇ
‚îÇ                 ‚îÇ    ‚îÇ                 ‚îÇ    ‚îÇ                 ‚îÇ
‚îÇ ‚Ä¢ Interface UI  ‚îÇ    ‚îÇ ‚Ä¢ API REST      ‚îÇ    ‚îÇ ‚Ä¢ Dados         ‚îÇ
‚îÇ ‚Ä¢ Autentica√ß√£o  ‚îÇ    ‚îÇ ‚Ä¢ RAG System    ‚îÇ    ‚îÇ ‚Ä¢ An√°lises      ‚îÇ
‚îÇ ‚Ä¢ Chat RAG      ‚îÇ    ‚îÇ ‚Ä¢ LLM Integration‚îÇ    ‚îÇ ‚Ä¢ Hist√≥rico     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üìÅ **ESTRUTURA DE ARQUIVOS**

### **Backend (`/backend/`)**

#### **üîß Configura√ß√£o e Inicializa√ß√£o**
- **`main.py`** - Ponto de entrada da aplica√ß√£o FastAPI
- **`config.py`** - Configura√ß√µes do sistema (OpenAI, banco, etc.)
- **`database.py`** - Conex√£o e configura√ß√£o do banco de dados
- **`security.py`** - Autentica√ß√£o JWT e seguran√ßa
- **`models.py`** - Modelos SQLAlchemy (ORM)

#### **üõ£Ô∏è Rotas da API (`/routers/`)**
- **`auth.py`** - Autentica√ß√£o (login, registro, JWT)
- **`analyze.py`** - An√°lise de URLs e empresas
- **`chat.py`** - Sistema de chat RAG
- **`history.py`** - Hist√≥rico de an√°lises
- **`training.py`** - Simulador de obje√ß√µes
- **`admin.py`** - Painel administrativo
- **`reports.py`** - Relat√≥rios e estat√≠sticas

#### **‚öôÔ∏è Servi√ßos (`/services/`)**
- **`llm.py`** - Integra√ß√£o com OpenAI GPT-4
- **`scraper.py`** - Web scraping de sites
- **`embeddings.py`** - Busca vetorial sem√¢ntica
- **`web_search.py`** - Pesquisa na web
- **`text_formatter.py`** - Formata√ß√£o de textos
- **`comparison.py`** - Compara√ß√£o de empresas
- **`objections.py`** - Simulador de obje√ß√µes
- **`market_analysis.py`** - An√°lise de mercado
- **`hierarchical_rag.py`** - RAG hier√°rquico (experimental)
- **`rag_evaluator.py`** - Avalia√ß√£o de RAG (experimental)

### **Frontend (`/frontend/`)**

#### **üì± P√°ginas (`/src/pages/`)**
- **`App.tsx`** - Componente principal com navega√ß√£o
- **`Login.tsx`** - Autentica√ß√£o de usu√°rios
- **`Analyze.tsx`** - Interface de an√°lise de URLs
- **`Chat.tsx`** - Chat RAG inteligente
- **`History.tsx`** - Hist√≥rico de an√°lises
- **`Compare.tsx`** - Compara√ß√£o de empresas
- **`Training.tsx`** - Simulador de obje√ß√µes
- **`Admin.tsx`** - Painel administrativo

---

## üîß **COMPONENTES DETALHADOS**

### **1. üóÑÔ∏è MODELOS DE DADOS (`models.py`)**

#### **User (Usu√°rio)**
```python
class User(Base):
    id: int                    # ID √∫nico
    email: str                 # Email do usu√°rio
    password_hash: str         # Hash da senha
    role: str                 # admin/user
    created_at: datetime       # Data de cria√ß√£o
    analyses: List[PageAnalysis]  # An√°lises do usu√°rio
    training_sessions: List[TrainingSession]  # Sess√µes de treino
```

#### **PageAnalysis (An√°lise de P√°gina)**
```python
class PageAnalysis(Base):
    id: int                    # ID √∫nico
    url: str                   # URL analisada
    title: str                 # T√≠tulo da p√°gina
    raw_text: str              # Texto bruto extra√≠do
    summary: str               # Resumo gerado por IA
    key_points: str            # Pontos-chave (JSON)
    entities: str              # Entidades extra√≠das (JSON)
    owner_id: int              # ID do usu√°rio
    created_at: datetime       # Data de cria√ß√£o
```

#### **ChatMessage (Mensagem do Chat)**
```python
class ChatMessage(Base):
    id: int                    # ID √∫nico
    user_id: int               # ID do usu√°rio
    role: str                  # user/assistant
    content: str               # Conte√∫do da mensagem
    sources: str               # Fontes (JSON)
    created_at: datetime        # Data de cria√ß√£o
```

#### **TrainingSession (Sess√£o de Treino)**
```python
class TrainingSession(Base):
    id: int                    # ID √∫nico
    user_id: int               # ID do usu√°rio
    analysis_id: int           # ID da an√°lise
    difficulty: str            # F√°cil/M√©dio/Dif√≠cil
    objection: str             # Obje√ß√£o apresentada
    objection_type: str        # Tipo da obje√ß√£o
    user_response: str         # Resposta do usu√°rio
    suggested_response: str    # Resposta sugerida
    evaluation: str            # Avalia√ß√£o (JSON)
    score: int                 # Pontua√ß√£o (0-100)
    created_at: datetime       # Data de cria√ß√£o
```

### **2. üîê SEGURAN√áA (`security.py`)**

#### **Autentica√ß√£o JWT**
```python
def create_access_token(data: dict) -> str:
    """Cria token JWT com expira√ß√£o de 24 horas"""
    
def verify_token(token: str) -> dict:
    """Verifica e decodifica token JWT"""
    
def get_current_user_payload(token: str) -> dict:
    """Extrai payload do usu√°rio do token"""
```

#### **Hash de Senhas**
```python
def hash_password(password: str) -> str:
    """Gera hash bcrypt da senha"""
    
def verify_password(password: str, hashed: str) -> bool:
    """Verifica senha contra hash"""
```

### **3. ü§ñ INTEGRA√á√ÉO LLM (`llm.py`)**

#### **Prompt Estrat√©gico**
```python
SUMMARY_PROMPT = """
Voc√™ √© um especialista em an√°lise de empresas para vendas B2B com 15+ anos de experi√™ncia.

Analise o texto fornecido e extraia informa√ß√µes estruturadas seguindo EXATAMENTE este formato:

## RESUMO EXECUTIVO
[Resumo executivo de 150-250 palavras sobre a empresa]

## AN√ÅLISE ESTRAT√âGICA

### üéØ ICP (Ideal Customer Profile)
**Tamanho da Empresa:** [Startup/PME/Enterprise]
**Setor:** [Setor espec√≠fico]
**Perfil T√©cnico:** [N√≠vel de maturidade tecnol√≥gica]
**Pain Points:** [Principais dores identificadas]
**Budget Range:** [Faixa de investimento estimada]

### üõçÔ∏è Produtos e Servi√ßos
**Produtos Principais:** [Lista de produtos]
**Modelo de Neg√≥cio:** [B2B/B2C/SaaS/etc]
**Diferencia√ß√£o:** [Principais diferenciais]

### üí∞ Pricing e Business Model
**Modelo de Pre√ßos:** [Subscription/One-time/License]
**Faixa de Pre√ßos:** [Estimativa de valores]
**M√©tricas de Sucesso:** [KPIs relevantes]

### üîß Stack Tecnol√≥gico
**Tecnologias Identificadas:** [Lista de tecnologias]
**N√≠vel de Maturidade:** [Alto/M√©dio/Baixo]
**Integra√ß√µes:** [APIs, ferramentas conectadas]

### üìû Contatos e Stakeholders
**Cargos Identificados:** [CEO, CTO, etc]
**Departamentos:** [Vendas, Marketing, etc]
**Tomadores de Decis√£o:** [Quem decide compras]

### üè¢ Informa√ß√µes da Empresa
**Tamanho:** [N√∫mero de funcion√°rios]
**Localiza√ß√£o:** [Cidade, pa√≠s]
**Mercado:** [Mercado de atua√ß√£o]
**Est√°gio:** [Startup/Growth/Enterprise]

### üéØ Oportunidades de Vendas
**Urg√™ncia:** [Alta/M√©dia/Baixa]
**Budget Signals:** [Sinais de or√ßamento]
**Timing:** [Momento ideal para abordagem]
**Pain Points Identificados:** [Dores que podemos resolver]

### üìä An√°lise de Mercado
**Concorrentes:** [Principais concorrentes]
**Posicionamento:** [Como se posiciona no mercado]
**Tend√™ncias:** [Tend√™ncias do setor]

### üéØ Insights Estrat√©gicos
**Abordagem Recomendada:** [Como abordar]
**Obje√ß√µes Prov√°veis:** [Obje√ß√µes esperadas]
**Valor Proposto:** [Como podemos ajudar]
**Pr√≥ximos Passos:** [A√ß√µes recomendadas]

### üéØ Score de Prioridade
**Sales Priority:** [1-10] - Justificativa
**Budget Potential:** [1-10] - Justificativa
**Timing:** [1-10] - Justificativa
**Fit Score:** [1-10] - Justificativa
"""
```

#### **Fun√ß√µes Principais**
```python
async def summarize_text(raw_text: str) -> Dict[str, Any]:
    """Gera resumo estruturado usando GPT-4"""
    
async def _analyze_sentiment_and_context(raw_text: str) -> Dict[str, Any]:
    """An√°lise adicional de sentiment e contexto"""
    
def _parse_output(llm_output: str) -> Dict[str, Any]:
    """Extrai se√ß√µes estruturadas do output do LLM"""
```

### **4. üåê WEB SCRAPING (`scraper.py`)**

#### **Fun√ß√£o Principal**
```python
async def fetch_url(url: str) -> Tuple[str, str]:
    """
    Extrai conte√∫do de uma URL
    
    Args:
        url: URL para extrair
        
    Returns:
        Tuple[title, content]: T√≠tulo e conte√∫do da p√°gina
    """
```

#### **Processo de Scraping**
1. **Valida√ß√£o de URL** - Verifica se √© uma URL v√°lida
2. **Request HTTP** - Faz requisi√ß√£o com headers apropriados
3. **Parsing HTML** - Usa BeautifulSoup para extrair conte√∫do
4. **Limpeza de Texto** - Remove scripts, estilos, etc.
5. **Extra√ß√£o de T√≠tulo** - Busca t√≠tulo da p√°gina
6. **Normaliza√ß√£o** - Limpa e formata o texto

### **5. üîç BUSCA VETORIAL (`embeddings.py`)**

#### **Sistema de Embeddings**
```python
async def find_similar_analyses(
    query: str, 
    analyses: List[Dict], 
    top_k: int = 3
) -> List[Dict]:
    """
    Encontra an√°lises similares usando embeddings
    
    Args:
        query: Pergunta do usu√°rio
        analyses: Lista de an√°lises dispon√≠veis
        top_k: N√∫mero de resultados a retornar
        
    Returns:
        Lista de an√°lises similares ordenadas por relev√¢ncia
    """
```

#### **Processo de Busca**
1. **Embedding da Query** - Converte pergunta em vetor
2. **Embedding das An√°lises** - Converte an√°lises em vetores
3. **C√°lculo de Similaridade** - Usa cosine similarity
4. **Ranking** - Ordena por relev√¢ncia
5. **Retorno** - Retorna top_k mais relevantes

### **6. üí¨ SISTEMA DE CHAT RAG (`chat.py`)**

#### **Fluxo do Chat**
```python
@router.post("/", response_model=schemas.ChatResponse)
async def chat(request: schemas.ChatRequest):
    """
    Endpoint principal do chat RAG
    
    Fluxo:
    1. Busca an√°lises similares (RAG)
    2. Opcionalmente faz web search
    3. Monta contexto rico
    4. Envia para GPT-4
    5. Salva pergunta e resposta no hist√≥rico
    """
```

#### **Processo Completo**
1. **RAG (Retrieval)** - Busca an√°lises relevantes no banco
2. **Web Search** - Pesquisa na web (opcional)
3. **Contexto** - Monta contexto rico com todas as informa√ß√µes
4. **LLM** - Envia para GPT-4 com contexto
5. **Resposta** - Retorna resposta contextualizada
6. **Hist√≥rico** - Salva conversa no banco

### **7. üìä AN√ÅLISE DE EMPRESAS (`analyze.py`)**

#### **Endpoint de An√°lise**
```python
@router.post("/", response_model=schemas.AnalyzeResponse)
async def analyze(request: schemas.AnalyzeRequest):
    """
    Analisa uma URL e retorna insights estruturados
    
    Processo:
    1. Scraping da URL
    2. An√°lise com GPT-4
    3. Extra√ß√£o de entidades
    4. An√°lise de mercado
    5. Estrat√©gia de vendas
    6. Persist√™ncia no banco
    """
```

#### **An√°lises Geradas**
- **Resumo Executivo** - Vis√£o geral da empresa
- **ICP (Ideal Customer Profile)** - Perfil do cliente ideal
- **Produtos e Servi√ßos** - O que a empresa oferece
- **Pricing** - Modelo de pre√ßos
- **Stack Tecnol√≥gico** - Tecnologias utilizadas
- **Contatos** - Stakeholders identificados
- **Oportunidades** - Insights para vendas
- **Score de Prioridade** - Ranking de import√¢ncia

### **8. üéØ SIMULADOR DE OBJE√á√ïES (`training.py`)**

#### **Funcionalidades**
```python
@router.post("/generate-objections")
async def generate_objections(request: GenerateObjectionsRequest):
    """Gera obje√ß√µes baseadas na an√°lise da empresa"""
    
@router.post("/submit-response")
async def submit_response(request: SubmitResponseRequest):
    """Avalia resposta do usu√°rio √† obje√ß√£o"""
    
@router.get("/stats")
async def get_training_stats():
    """Retorna estat√≠sticas de treinamento"""
```

#### **Sistema de Gamifica√ß√£o**
- **Pontua√ß√£o** - Score de 0-100 por resposta
- **Dificuldade** - F√°cil, M√©dio, Dif√≠cil
- **Tipos de Obje√ß√£o** - Pre√ßo, Timing, Autoridade, Necessidade
- **Feedback** - Avalia√ß√£o detalhada da resposta
- **Estat√≠sticas** - Progresso e performance do usu√°rio

### **9. üîç PESQUISA NA WEB (`web_search.py`)**

#### **Funcionalidades**
```python
async def enriched_search(
    query: str,
    scrape_top_results: bool = False
) -> Dict[str, Any]:
    """
    Pesquisa enriquecida na web
    
    Args:
        query: Termo de busca
        scrape_top_results: Se deve fazer scraping dos resultados
        
    Returns:
        Dict com resultados e conte√∫do scrapeado
    """
```

#### **Processo de Pesquisa**
1. **Busca** - Pesquisa na web usando API
2. **Filtragem** - Filtra resultados relevantes
3. **Scraping** - Extrai conte√∫do das p√°ginas (opcional)
4. **Enriquecimento** - Adiciona contexto e metadados
5. **Retorno** - Retorna resultados estruturados

### **10. üìà AN√ÅLISE DE MERCADO (`market_analysis.py`)**

#### **An√°lises Geradas**
```python
async def analyze_market_trends(entities: Dict[str, Any]) -> Dict[str, Any]:
    """Analisa tend√™ncias do mercado baseado nas entidades"""
    
async def generate_sales_strategy(entities: Dict[str, Any]) -> Dict[str, Any]:
    """Gera estrat√©gia de vendas baseada na an√°lise"""
```

#### **Insights Fornecidos**
- **Tend√™ncias do Setor** - Movimentos do mercado
- **Landscape Competitivo** - Posicionamento vs concorrentes
- **Oportunidades** - Lacunas no mercado
- **Estrat√©gias** - Abordagens recomendadas
- **Riscos** - Fatores de risco identificados

---

## üé® **FRONTEND - INTERFACE DO USU√ÅRIO**

### **1. üè† P√°gina Principal (`App.tsx`)**

#### **Navega√ß√£o**
```tsx
const navigationItems = [
  { path: "/", label: "üè† In√≠cio", icon: "üè†" },
  { path: "/analyze", label: "üîç Analisar", icon: "üîç" },
  { path: "/chat", label: "üí¨ Chat", icon: "üí¨" },
  { path: "/history", label: "üìä Hist√≥rico", icon: "üìä" },
  { path: "/compare", label: "‚öñÔ∏è Comparar", icon: "‚öñÔ∏è" },
  { path: "/training", label: "üéØ Treinar", icon: "üéØ" },
  { path: "/admin", label: "‚öôÔ∏è Admin", icon: "‚öôÔ∏è" }
];
```

#### **Design System**
- **Glassmorphism** - Efeito de vidro com blur
- **Gradientes** - Cores vibrantes e modernas
- **Anima√ß√µes** - Transi√ß√µes suaves
- **Responsivo** - Adapt√°vel a diferentes telas

### **2. üîç P√°gina de An√°lise (`Analyze.tsx`)**

#### **Funcionalidades**
- **Input de URL** - Campo para inserir URL
- **An√°lise em Tempo Real** - Progresso da an√°lise
- **Resultados Estruturados** - Exibi√ß√£o organizada
- **C√≥pia de Conte√∫do** - Bot√µes para copiar se√ß√µes
- **Formata√ß√£o Markdown** - Renderiza√ß√£o HTML

#### **Componentes**
```tsx
// Input de URL
<input 
  type="url" 
  placeholder="https://exemplo.com"
  value={url}
  onChange={(e) => setUrl(e.target.value)}
/>

// Resultados da An√°lise
<div style={sectionStyles}>
  <div style={labelStyles}>üìä Resumo Executivo</div>
  <div dangerouslySetInnerHTML={{ __html: result.summary }} />
</div>
```

### **3. üí¨ Chat RAG (`Chat.tsx`)**

#### **Interface de Chat**
```tsx
// √Årea de mensagens
<div style={messagesAreaStyles}>
  {messages.map((msg) => (
    <div key={msg.id} style={messageStyles(msg.role === 'user')}>
      <div style={messageBubbleStyles(msg.role === 'user')}>
        <div dangerouslySetInnerHTML={{ __html: msg.content }} />
      </div>
    </div>
  ))}
</div>

// Input de mensagem
<div style={inputAreaStyles}>
  <textarea
    value={message}
    onChange={(e) => setMessage(e.target.value)}
    placeholder="Digite sua pergunta..."
  />
  <button onClick={handleSendMessage}>
    Enviar
  </button>
</div>
```

#### **Funcionalidades do Chat**
- **Mensagens em Tempo Real** - Interface fluida
- **Fontes** - Exibi√ß√£o de fontes utilizadas
- **Hist√≥rico** - Persist√™ncia das conversas
- **Busca na Web** - Op√ß√£o de pesquisa online
- **Formata√ß√£o** - Renderiza√ß√£o HTML das respostas

### **4. üìä Hist√≥rico (`History.tsx`)**

#### **Listagem de An√°lises**
```tsx
// Card de an√°lise
<div style={cardStyles}>
  <div style={headerStyles}>
    <h3>{analysis.title}</h3>
    <span style={dateStyles}>
      {new Date(analysis.created_at).toLocaleDateString()}
    </span>
  </div>
  <div style={contentStyles}>
    <p>{analysis.summary}</p>
  </div>
  <div style={actionsStyles}>
    <button onClick={() => viewAnalysis(analysis.id)}>
      Ver Detalhes
    </button>
    <button onClick={() => deleteAnalysis(analysis.id)}>
      Excluir
    </button>
  </div>
</div>
```

### **5. ‚öñÔ∏è Compara√ß√£o (`Compare.tsx`)**

#### **Interface de Compara√ß√£o**
```tsx
// Sele√ß√£o de an√°lises
<div style={selectionStyles}>
  <select 
    value={analysis1} 
    onChange={(e) => setAnalysis1(Number(e.target.value))}
  >
    <option value="">Selecione primeira an√°lise</option>
    {analyses.map(analysis => (
      <option key={analysis.id} value={analysis.id}>
        {analysis.title}
      </option>
    ))}
  </select>
</div>

// Resultado da compara√ß√£o
<div style={comparisonResultStyles}>
  <h3>Compara√ß√£o</h3>
  <div dangerouslySetInnerHTML={{ __html: comparisonResult }} />
</div>
```

### **6. üéØ Simulador de Obje√ß√µes (`Training.tsx`)**

#### **Interface de Treinamento**
```tsx
// Sele√ß√£o de empresa
<select 
  value={selectedAnalysis} 
  onChange={(e) => setSelectedAnalysis(Number(e.target.value))}
>
  <option value="">Selecione uma empresa...</option>
  {analyses.map(analysis => (
    <option key={analysis.id} value={analysis.id}>
      {analysis.title}
    </option>
  ))}
</select>

// Obje√ß√£o apresentada
<div style={objectionStyles}>
  <h3>Obje√ß√£o: {currentObjection?.objection}</h3>
  <p>Tipo: {currentObjection?.type}</p>
  <p>Dificuldade: {currentObjection?.difficulty}</p>
</div>

// Resposta do usu√°rio
<textarea
  value={userResponse}
  onChange={(e) => setUserResponse(e.target.value)}
  placeholder="Digite sua resposta √† obje√ß√£o..."
/>

// Avalia√ß√£o
<div style={evaluationStyles}>
  <h3>Pontua√ß√£o: {evaluation?.score}/100</h3>
  <div dangerouslySetInnerHTML={{ __html: evaluation?.feedback }} />
</div>
```

### **7. ‚öôÔ∏è Painel Admin (`Admin.tsx`)**

#### **Funcionalidades Administrativas**
```tsx
// Estat√≠sticas gerais
<div style={statsGridStyles}>
  <div style={statCardStyles}>
    <h3>Total de Usu√°rios</h3>
    <p>{stats.totalUsers}</p>
  </div>
  <div style={statCardStyles}>
    <h3>Total de An√°lises</h3>
    <p>{stats.totalAnalyses}</p>
  </div>
  <div style={statCardStyles}>
    <h3>Sess√µes de Treino</h3>
    <p>{stats.totalTrainingSessions}</p>
  </div>
</div>

// Lista de usu√°rios
<div style={usersListStyles}>
  {users.map(user => (
    <div key={user.id} style={userCardStyles}>
      <span>{user.email}</span>
      <span>{user.role}</span>
      <span>{user.created_at}</span>
    </div>
  ))}
</div>
```

---

## üê≥ **DOCKER E DEPLOYMENT**

### **1. üê≥ Docker Compose (`docker-compose.yml`)**

#### **Servi√ßos Configurados**
```yaml
services:
  db:
    image: postgres:15
    environment:
      POSTGRES_DB: bna
      POSTGRES_USER: bna
      POSTGRES_PASSWORD: bna123
    volumes:
      - postgres_data:/var/lib/postgresql/data

  backend:
    build: ./backend
    ports:
      - "8000:8000"
    environment:
      - DATABASE_URL=postgresql://bna:bna123@db:5432/bna
      - OPENAI_API_KEY=${OPENAI_API_KEY}
    depends_on:
      - db

  frontend:
    build: ./frontend
    ports:
      - "5173:5173"
    depends_on:
      - backend

  adminer:
    image: adminer
    ports:
      - "8080:8080"
    depends_on:
      - db
```

### **2. üöÄ Scripts de Deploy**

#### **Deploy Local (`deploy.ps1`)**
```powershell
# Script PowerShell para Windows
Write-Host "üöÄ Iniciando deploy local..."

# Para containers existentes
docker-compose down

# Rebuild e start
docker-compose up -d --build

Write-Host "‚úÖ Deploy conclu√≠do!"
Write-Host "üåê Frontend: http://localhost:5173"
Write-Host "üîß Backend: http://localhost:8000"
Write-Host "üóÑÔ∏è Adminer: http://localhost:8080"
```

#### **Deploy Linux (`deploy.sh`)**
```bash
#!/bin/bash
echo "üöÄ Iniciando deploy..."

# Para containers
docker-compose down

# Rebuild e start
docker-compose up -d --build

echo "‚úÖ Deploy conclu√≠do!"
echo "üåê Frontend: http://localhost:5173"
echo "üîß Backend: http://localhost:8000"
```

### **3. ‚òÅÔ∏è Deploy em Nuvem**

#### **Railway (`railway.json`)**
```json
{
  "build": {
    "builder": "NIXPACKS"
  },
  "deploy": {
    "startCommand": "uvicorn app.main:app --host 0.0.0.0 --port $PORT",
    "healthcheckPath": "/health"
  }
}
```

#### **Render (`render.yaml`)**
```yaml
services:
  - type: web
    name: bna-backend
    env: python
    buildCommand: pip install -r requirements.txt
    startCommand: uvicorn app.main:app --host 0.0.0.0 --port $PORT
    healthCheckPath: /health
```

#### **Fly.io (`fly.toml`)**
```toml
app = "bna-dev"
primary_region = "gru"

[build]

[http_service]
  internal_port = 8000
  force_https = true
  auto_stop_machines = true
  auto_start_machines = true
  min_machines_running = 0
  processes = ["app"]

[[vm]]
  cpu_kind = "shared"
  cpus = 1
  memory_mb = 256
```

---

## üîß **CONFIGURA√á√ÉO E AMBIENTE**

### **1. üìã Vari√°veis de Ambiente**

#### **Backend (`config.py`)**
```python
class Settings:
    # Database
    DATABASE_URL: str = "postgresql://bna:bna123@localhost:5432/bna"
    
    # OpenAI
    OPENAI_API_KEY: str = ""
    OPENAI_MODEL: str = "gpt-4o-mini"
    
    # JWT
    SECRET_KEY: str = "your-secret-key"
    ALGORITHM: str = "HS256"
    ACCESS_TOKEN_EXPIRE_MINUTES: int = 1440
    
    # CORS
    ALLOWED_ORIGINS: List[str] = ["http://localhost:5173"]
```

#### **Frontend (`vite.config.ts`)**
```typescript
export default defineConfig({
  plugins: [react()],
  server: {
    port: 5173,
    host: true
  },
  define: {
    'process.env': process.env
  }
});
```

### **2. üì¶ Depend√™ncias**

#### **Backend (`requirements.txt`)**
```
fastapi==0.104.1
uvicorn[standard]==0.24.0
sqlalchemy==2.0.23
psycopg2-binary==2.9.9
python-jose[cryptography]==3.3.0
passlib[bcrypt]==1.7.4
python-multipart==0.0.6
openai==1.3.0
beautifulsoup4==4.12.2
requests==2.31.0
python-dotenv==1.0.0
```

#### **Frontend (`package.json`)**
```json
{
  "dependencies": {
    "react": "^18.2.0",
    "react-dom": "^18.2.0",
    "react-router-dom": "^6.8.0",
    "axios": "^1.6.0"
  },
  "devDependencies": {
    "@types/react": "^18.2.0",
    "@types/react-dom": "^18.2.0",
    "@vitejs/plugin-react": "^4.0.0",
    "typescript": "^5.0.0",
    "vite": "^4.4.0"
  }
}
```

---

## üß™ **TESTES E QUALIDADE**

### **1. üîç Linting e Formata√ß√£o**

#### **Backend**
- **Flake8** - Linting de c√≥digo Python
- **Black** - Formata√ß√£o autom√°tica
- **isort** - Organiza√ß√£o de imports

#### **Frontend**
- **ESLint** - Linting de c√≥digo TypeScript/React
- **Prettier** - Formata√ß√£o autom√°tica
- **TypeScript** - Verifica√ß√£o de tipos

### **2. üß™ Testes**

#### **Testes de API**
```python
# Exemplo de teste de endpoint
def test_analyze_endpoint():
    response = client.post("/analyze", json={"url": "https://exemplo.com"})
    assert response.status_code == 200
    assert "summary" in response.json()
```

#### **Testes de Frontend**
```typescript
// Exemplo de teste de componente
import { render, screen } from '@testing-library/react';
import { Analyze } from './Analyze';

test('renders analyze page', () => {
  render(<Analyze />);
  expect(screen.getByText('Analisar Empresa')).toBeInTheDocument();
});
```

---

## üìä **MONITORAMENTO E LOGS**

### **1. üìà M√©tricas de Performance**

#### **Backend**
- **Tempo de Resposta** - Lat√™ncia das APIs
- **Uso de Mem√≥ria** - Consumo de RAM
- **CPU Usage** - Utiliza√ß√£o do processador
- **Database Queries** - Performance do banco

#### **Frontend**
- **Page Load Time** - Tempo de carregamento
- **Bundle Size** - Tamanho dos arquivos
- **User Interactions** - Intera√ß√µes do usu√°rio

### **2. üìù Sistema de Logs**

#### **Estrutura de Logs**
```python
# Logs de aplica√ß√£o
logger.info(f"An√°lise iniciada para URL: {url}")
logger.warning(f"Falha ao conectar com OpenAI: {error}")
logger.error(f"Erro cr√≠tico no sistema: {exception}")

# Logs de performance
logger.info(f"Tempo de an√°lise: {duration}s")
logger.info(f"Tokens utilizados: {tokens}")
```

#### **N√≠veis de Log**
- **INFO** - Informa√ß√µes gerais
- **WARNING** - Avisos n√£o cr√≠ticos
- **ERROR** - Erros que n√£o param o sistema
- **CRITICAL** - Erros cr√≠ticos

---

## üöÄ **ROADMAP E MELHORIAS FUTURAS**

### **1. üéØ Funcionalidades Planejadas**

#### **Curto Prazo**
- [ ] **Cache Inteligente** - Cache de an√°lises similares
- [ ] **Export de Relat√≥rios** - PDF/Excel das an√°lises
- [ ] **Integra√ß√£o CRM** - Conectar com Salesforce/HubSpot
- [ ] **Notifica√ß√µes** - Alertas de novas an√°lises

#### **M√©dio Prazo**
- [ ] **IA Avan√ßada** - Modelos customizados
- [ ] **An√°lise de Sentimento** - An√°lise emocional
- [ ] **Predi√ß√£o de Vendas** - ML para prever fechamentos
- [ ] **Integra√ß√£o Social** - LinkedIn, Twitter

#### **Longo Prazo**
- [ ] **Multi-idioma** - Suporte a v√°rios idiomas
- [ ] **Mobile App** - Aplicativo nativo
- [ ] **API P√∫blica** - API para terceiros
- [ ] **Marketplace** - Integra√ß√µes com outras ferramentas

### **2. üîß Melhorias T√©cnicas**

#### **Performance**
- **CDN** - Distribui√ß√£o global de conte√∫do
- **Caching** - Redis para cache de dados
- **Load Balancing** - Distribui√ß√£o de carga
- **Database Optimization** - √çndices e queries otimizadas

#### **Seguran√ßa**
- **Rate Limiting** - Limita√ß√£o de requisi√ß√µes
- **Input Validation** - Valida√ß√£o rigorosa de inputs
- **Audit Logs** - Logs de auditoria
- **Encryption** - Criptografia de dados sens√≠veis

#### **Escalabilidade**
- **Microservices** - Arquitetura de microsservi√ßos
- **Kubernetes** - Orquestra√ß√£o de containers
- **Auto-scaling** - Escalabilidade autom√°tica
- **Multi-region** - Deploy em m√∫ltiplas regi√µes

---

## üìö **RECURSOS E REFER√äNCIAS**

### **1. üìñ Documenta√ß√£o T√©cnica**

#### **Tecnologias Utilizadas**
- **FastAPI** - https://fastapi.tiangolo.com/
- **React** - https://react.dev/
- **PostgreSQL** - https://www.postgresql.org/
- **Docker** - https://www.docker.com/
- **OpenAI** - https://platform.openai.com/

#### **Padr√µes e Boas Pr√°ticas**
- **REST API Design** - https://restfulapi.net/
- **React Best Practices** - https://react.dev/learn
- **Database Design** - https://www.postgresql.org/docs/
- **Docker Best Practices** - https://docs.docker.com/

### **2. üõ†Ô∏è Ferramentas de Desenvolvimento**

#### **IDEs Recomendados**
- **VS Code** - Com extens√µes Python, React, Docker
- **PyCharm** - Para desenvolvimento Python
- **WebStorm** - Para desenvolvimento React

#### **Extens√µes √öteis**
- **Python** - IntelliSense, debugging
- **React** - Snippets, IntelliSense
- **Docker** - Gerenciamento de containers
- **Git** - Controle de vers√£o

### **3. üìû Suporte e Comunidade**

#### **Canais de Suporte**
- **GitHub Issues** - Reportar bugs e sugest√µes
- **Documenta√ß√£o** - Guias e tutoriais
- **Discord** - Comunidade de desenvolvedores
- **Email** - Suporte direto

#### **Contribui√ß√£o**
- **Fork** - Fa√ßa um fork do projeto
- **Branch** - Crie uma branch para sua feature
- **Commit** - Fa√ßa commits descritivos
- **Pull Request** - Abra um PR com suas mudan√ßas

---

## üéâ **CONCLUS√ÉO**

O **BNA.dev** √© uma plataforma completa de intelig√™ncia artificial para vendas B2B, desenvolvida com as melhores pr√°ticas de desenvolvimento moderno. A arquitetura modular, o design responsivo e as funcionalidades avan√ßadas de IA fazem desta uma solu√ß√£o robusta e escal√°vel para equipes de vendas.

### **üèÜ Principais Conquistas**
- ‚úÖ **Sistema RAG Completo** - Chat inteligente com contexto
- ‚úÖ **An√°lise Estruturada** - Insights acion√°veis para vendas
- ‚úÖ **Simulador de Obje√ß√µes** - Treinamento gamificado
- ‚úÖ **Interface Moderna** - Design glassmorphism responsivo
- ‚úÖ **Deploy Automatizado** - Docker e m√∫ltiplas plataformas
- ‚úÖ **Documenta√ß√£o Completa** - Guias detalhados

### **üöÄ Pr√≥ximos Passos**
1. **Teste a Plataforma** - Acesse http://localhost:5173
2. **Analise Empresas** - Teste com URLs reais
3. **Use o Chat** - Fa√ßa perguntas inteligentes
4. **Treine Obje√ß√µes** - Pratique com o simulador
5. **Contribua** - Sugira melhorias e reporte bugs

**Desenvolvido com ‚ù§Ô∏è para revolucionar as vendas B2B! üöÄ**
